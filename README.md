# SnackFriend - AI快餐识别与营养分析系统

## 项目概述

SnackFriend是一个基于YOLOv8深度学习模型的快餐识别与营养分析系统，能够自动识别图像中的快餐食品，并提供详细的营养成分信息。该系统适用于健康饮食管理、营养摄入追踪等场景，帮助用户了解所摄入快餐的营养价值。

## 主要功能特点

### 核心功能
- **实时快餐识别**：使用YOLOv8深度学习模型快速识别图像中的快餐食品
- **多类别支持**：支持识别多种常见快餐，包括汉堡、披萨、热狗、甜甜圈等
- **营养成分分析**：自动提供识别到的食品的详细营养信息（卡路里、脂肪、蛋白质等）
- **餐具过滤**：智能过滤识别到的餐具和非食品类别，避免返回无关的营养信息
- **多种命名格式兼容**：支持不同格式的食品名称识别（如hot dog、hotdog、hot_dog等）

### 技术特性
- **用户友好界面**：基于Tkinter开发的图形用户界面，操作简单直观
- **可配置性**：支持自定义配置文件路径、模型路径等参数
- **高性能处理**：优化的图像识别算法，快速处理和分析图像
- **跨平台支持**：兼容Windows等主流操作系统
- **模块化设计**：清晰的代码结构，易于扩展和维护

## 系统架构

### 技术栈
- **编程语言**：Python 3.x
- **深度学习框架**：Ultralytics YOLOv8
- **GUI框架**：Tkinter
- **图像处理**：OpenCV
- **数据处理**：NumPy, Pandas

### 核心模块
- **图像识别模块**：使用预训练的YOLOv8模型进行快餐检测和分类
- **营养数据处理模块**：管理和提供各类快餐的营养成分数据
- **用户界面模块**：提供友好的图形界面，方便用户交互
- **配置管理模块**：处理系统配置和参数设置

## 安装与部署

### 系统要求
- Windows 10/11操作系统
- Python 3.8或更高版本
- 至少8GB RAM（推荐16GB）
- 支持CUDA的NVIDIA显卡（可选，用于GPU加速）

### 安装步骤

#### 方法1：使用批处理脚本一键安装
1. 确保您的系统已安装Python 3.8+
2. 双击运行项目根目录下的 `SnackFriend.bat` 文件
3. 脚本将自动安装所需的依赖包并启动应用程序

#### 方法2：手动安装
1. 克隆或下载本项目到本地

2. 安装必要的依赖包：
   ```bash
   pip install -r ai_thing_yolo_baba/requirements.txt
   pip install opencv-python numpy ultralytics pillow
   ```

3. 安装YOLOv8的额外依赖：
   ```bash
   python install_yolo_deps.py
   ```

## 使用方法

### 启动应用程序

1. **通过批处理文件启动**：
   双击项目根目录下的 `SnackFriend.bat` 文件

2. **通过命令行启动**：
   ```bash
   python SnackFriend.py
   ```

### 基本操作

1. **选择图像**：点击界面上的按钮选择要分析的快餐图像
2. **自动识别**：系统将自动识别图像中的快餐类别
3. **查看营养信息**：识别完成后，系统将显示食品的详细营养成分信息
4. **调整配置**：可以在设置界面修改配置文件路径、模型选择等参数

### 高级功能

- **批量处理**：支持批量分析多张图像
- **结果导出**：可以导出识别结果和营养信息为CSV格式
- **自定义模型**：支持加载自定义训练的YOLO模型

## 项目结构

```
ai_things_yolo/                # 项目根目录
├── SnackFriend.py             # 主应用程序文件
├── SnackFriend.bat            # 一键启动脚本
├── nutrition_data_processor.py  # 营养数据处理模块
├── models/                    # 预训练模型目录
│   ├── yolov8n.pt             # YOLOv8n模型（小型，快速）
│   ├── yolov8s.pt             # YOLOv8s模型（中型）
│   ├── yolov8m.pt             # YOLOv8m模型（大型）
│   └── yolov8l.pt             # YOLOv8l模型（超大型）
├── test_data_final/           # 测试数据集
│   ├── Burger/                # 汉堡测试图像
│   ├── Donut/                 # 甜甜圈测试图像
│   └── Pizza/                 # 披萨测试图像
├── fastfood_yolo_dataset/     # YOLO数据集
│   ├── data.yaml              # 数据集配置文件
│   ├── images/                # 图像数据
│   └── labels/                # 标注数据
├── ai_thing_yolo_baba/        # 项目核心代码
│   ├── README.md              # 子项目说明
│   ├── yolo_main_final.py     # YOLO主程序
│   └── yolo_gui_improved.py   # 增强版GUI代码
├── datasets/                  # 数据集目录
└── runs/                      # 模型训练和测试结果
```

## 模型说明

### 预训练模型

项目提供了多个版本的YOLOv8预训练模型，用户可以根据自己的需求选择：

- **yolov8n.pt**：最小的模型，适合快速检测，识别精度适中
- **yolov8s.pt**：小型模型，平衡了速度和精度
- **yolov8m.pt**：中型模型，精度较高
- **yolov8l.pt**：大型模型，识别精度最高，但处理速度较慢

### 支持的食品类别

系统支持识别和分析以下类别的快餐食品：

- 汉堡 (Burger)
- 披萨 (Pizza)
- 热狗 (Hot Dog)
- 甜甜圈 (Donut)
- 薯条 (Fries)
- 三明治 (Sandwich)
- 炸鸡腿 (Crispy Chicken)
- 烤土豆 (Baked Potato)
- 塔可饼 (Taco)
- 油炸玉米卷 (Taquito)

## 常见问题解答

### Q: 为什么有些食品无法被正确识别？
A: 系统的识别能力受限于训练数据和模型性能。如果遇到无法识别的食品，可以尝试以下方法：
- 使用更清晰、更居中的食品图像
- 尝试切换到更大的模型（如从yolov8n切换到yolov8l）
- 确保食品在支持的类别列表中

### Q: 如何提高识别速度？
A: 可以通过以下方式提高识别速度：
- 使用较小的模型（如yolov8n）
- 确保图像分辨率不要太高
- 如果有NVIDIA显卡，可以配置使用GPU加速

### Q: 营养信息的来源是什么？
A: 系统中的营养信息基于常见快餐食品的平均营养成分数据，仅供参考。实际营养成分可能因品牌、制作方式等因素而有所不同。

### Q: 系统会返回餐具的营养信息吗？
A: 不会。系统已实现餐具和非食品类别的过滤功能，会自动忽略碗、盘子、叉子等非食品项目，不会为这些物品返回营养信息。

## 维护与更新

### 模型更新
如需更新或训练自定义模型，可以参考YOLOv8官方文档，将训练好的模型文件放在`models`目录下，然后在配置中选择使用。

### 数据更新
如需更新营养成分数据，可以修改`nutrition_data_processor.py`文件中的相关数据字典。

## 许可证

本项目仅供学习和研究使用，未经许可不得用于商业用途。

## 联系方式

如有问题、建议或合作意向，请通过以下方式联系：

项目开发者：CodeCreX

---

*SnackFriend - 您的智能快餐营养分析助手，让健康饮食更简单！*# SnackFriend - AI快餐识别与营养分析系统

## 项目概述

SnackFriend是一个基于YOLOv8深度学习模型的快餐识别与营养分析系统，能够自动识别图像中的快餐食品，并提供详细的营养成分信息。该系统适用于健康饮食管理、营养摄入追踪等场景，帮助用户了解所摄入快餐的营养价值。

## 主要功能特点

### 核心功能
- **实时快餐识别**：使用YOLOv8深度学习模型快速识别图像中的快餐食品
- **多类别支持**：支持识别多种常见快餐，包括汉堡、披萨、热狗、甜甜圈等
- **营养成分分析**：自动提供识别到的食品的详细营养信息（卡路里、脂肪、蛋白质等）
- **餐具过滤**：智能过滤识别到的餐具和非食品类别，避免返回无关的营养信息
- **多种命名格式兼容**：支持不同格式的食品名称识别（如hot dog、hotdog、hot_dog等）

### 技术特性
- **用户友好界面**：基于Tkinter开发的图形用户界面，操作简单直观
- **可配置性**：支持自定义配置文件路径、模型路径等参数
- **高性能处理**：优化的图像识别算法，快速处理和分析图像
- **跨平台支持**：兼容Windows等主流操作系统
- **模块化设计**：清晰的代码结构，易于扩展和维护

## 系统架构

### 技术栈
- **编程语言**：Python 3.x
- **深度学习框架**：Ultralytics YOLOv8
- **GUI框架**：Tkinter
- **图像处理**：OpenCV
- **数据处理**：NumPy, Pandas

### 核心模块
- **图像识别模块**：使用预训练的YOLOv8模型进行快餐检测和分类
- **营养数据处理模块**：管理和提供各类快餐的营养成分数据
- **用户界面模块**：提供友好的图形界面，方便用户交互
- **配置管理模块**：处理系统配置和参数设置

## 安装与部署

### 系统要求
- Windows 10/11操作系统
- Python 3.8或更高版本
- 至少8GB RAM（推荐16GB）
- 支持CUDA的NVIDIA显卡（可选，用于GPU加速）

### 安装步骤

#### 方法1：使用批处理脚本一键安装
1. 确保您的系统已安装Python 3.8+
2. 双击运行项目根目录下的 `SnackFriend.bat` 文件
3. 脚本将自动安装所需的依赖包并启动应用程序

#### 方法2：手动安装
1. 克隆或下载本项目到本地

2. 安装必要的依赖包：
   ```bash
   pip install -r ai_thing_yolo_baba/requirements.txt
   pip install opencv-python numpy ultralytics pillow
   ```

3. 安装YOLOv8的额外依赖：
   ```bash
   python install_yolo_deps.py
   ```

## 使用方法

### 启动应用程序

1. **通过批处理文件启动**：
   双击项目根目录下的 `SnackFriend.bat` 文件

2. **通过命令行启动**：
   ```bash
   python SnackFriend.py
   ```

### 基本操作

1. **选择图像**：点击界面上的按钮选择要分析的快餐图像
2. **自动识别**：系统将自动识别图像中的快餐类别
3. **查看营养信息**：识别完成后，系统将显示食品的详细营养成分信息
4. **调整配置**：可以在设置界面修改配置文件路径、模型选择等参数

### 高级功能

- **批量处理**：支持批量分析多张图像
- **结果导出**：可以导出识别结果和营养信息为CSV格式
- **自定义模型**：支持加载自定义训练的YOLO模型

## 项目结构

```
ai_things_yolo/                # 项目根目录
├── SnackFriend.py             # 主应用程序文件
├── SnackFriend.bat            # 一键启动脚本
├── nutrition_data_processor.py  # 营养数据处理模块
├── models/                    # 预训练模型目录
│   ├── yolov8n.pt             # YOLOv8n模型（小型，快速）
│   ├── yolov8s.pt             # YOLOv8s模型（中型）
│   ├── yolov8m.pt             # YOLOv8m模型（大型）
│   └── yolov8l.pt             # YOLOv8l模型（超大型）
├── test_data_final/           # 测试数据集
│   ├── Burger/                # 汉堡测试图像
│   ├── Donut/                 # 甜甜圈测试图像
│   └── Pizza/                 # 披萨测试图像
├── fastfood_yolo_dataset/     # YOLO数据集
│   ├── data.yaml              # 数据集配置文件
│   ├── images/                # 图像数据
│   └── labels/                # 标注数据
├── ai_thing_yolo_baba/        # 项目核心代码
│   ├── README.md              # 子项目说明
│   ├── yolo_main_final.py     # YOLO主程序
│   └── yolo_gui_improved.py   # 增强版GUI代码
├── datasets/                  # 数据集目录
└── runs/                      # 模型训练和测试结果
```

## 模型说明

### 预训练模型

项目提供了多个版本的YOLOv8预训练模型，用户可以根据自己的需求选择：

- **yolov8n.pt**：最小的模型，适合快速检测，识别精度适中
- **yolov8s.pt**：小型模型，平衡了速度和精度
- **yolov8m.pt**：中型模型，精度较高
- **yolov8l.pt**：大型模型，识别精度最高，但处理速度较慢

### 支持的食品类别

系统支持识别和分析以下类别的快餐食品：

- 汉堡 (Burger)
- 披萨 (Pizza)
- 热狗 (Hot Dog)
- 甜甜圈 (Donut)
- 薯条 (Fries)
- 三明治 (Sandwich)
- 炸鸡腿 (Crispy Chicken)
- 烤土豆 (Baked Potato)
- 塔可饼 (Taco)
- 油炸玉米卷 (Taquito)

## 常见问题解答

### Q: 为什么有些食品无法被正确识别？
A: 系统的识别能力受限于训练数据和模型性能。如果遇到无法识别的食品，可以尝试以下方法：
- 使用更清晰、更居中的食品图像
- 尝试切换到更大的模型（如从yolov8n切换到yolov8l）
- 确保食品在支持的类别列表中

### Q: 如何提高识别速度？
A: 可以通过以下方式提高识别速度：
- 使用较小的模型（如yolov8n）
- 确保图像分辨率不要太高
- 如果有NVIDIA显卡，可以配置使用GPU加速

### Q: 营养信息的来源是什么？
A: 系统中的营养信息基于常见快餐食品的平均营养成分数据，仅供参考。实际营养成分可能因品牌、制作方式等因素而有所不同。

### Q: 系统会返回餐具的营养信息吗？
A: 不会。系统已实现餐具和非食品类别的过滤功能，会自动忽略碗、盘子、叉子等非食品项目，不会为这些物品返回营养信息。

## 维护与更新

### 模型更新
如需更新或训练自定义模型，可以参考YOLOv8官方文档，将训练好的模型文件放在`models`目录下，然后在配置中选择使用。

### 数据更新
如需更新营养成分数据，可以修改`nutrition_data_processor.py`文件中的相关数据字典。

## 许可证

本项目仅供学习和研究使用，未经许可不得用于商业用途。

## 联系方式

如有问题、建议或合作意向，请通过以下方式联系：

项目开发者：CodeCreX

---

*SnackFriend - 您的智能快餐营养分析助手，让健康饮食更简单！*
